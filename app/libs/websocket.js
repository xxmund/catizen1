(function(_0x22f241,_0x2bab77){const _0x2f03f2=a17_0x1085,_0x360113=_0x22f241();while(!![]){try{const _0x5c2fb6=-parseInt(_0x2f03f2(0xbb))/0x1*(-parseInt(_0x2f03f2(0xc7))/0x2)+-parseInt(_0x2f03f2(0xcd))/0x3+-parseInt(_0x2f03f2(0xcc))/0x4+-parseInt(_0x2f03f2(0xd8))/0x5*(-parseInt(_0x2f03f2(0xd1))/0x6)+parseInt(_0x2f03f2(0xcb))/0x7+-parseInt(_0x2f03f2(0xe2))/0x8*(parseInt(_0x2f03f2(0xcf))/0x9)+-parseInt(_0x2f03f2(0xdb))/0xa*(-parseInt(_0x2f03f2(0xaa))/0xb);if(_0x5c2fb6===_0x2bab77)break;else _0x360113['push'](_0x360113['shift']());}catch(_0x4e5fd9){_0x360113['push'](_0x360113['shift']());}}}(a17_0x1535,0xb1178));import a17_0x19e151 from'ws';import{createDelCatReq,createGatherGoldReq,createGetAirDropCatReq,createHeartBeatReq,createMergeCatReq,decodeMessage,getDuplicateLvl,getSmallestCatsLvl}from'./helper.js';function a17_0x1085(_0x3c6ba7,_0x4f492b){const _0x153594=a17_0x1535();return a17_0x1085=function(_0x1085e8,_0x25f95d){_0x1085e8=_0x1085e8-0xa8;let _0x1f969a=_0x153594[_0x1085e8];return _0x1f969a;},a17_0x1085(_0x3c6ba7,_0x4f492b);}import{formatNumber,getOrdinalSuffix}from'../utils/helper.js';function a17_0x1535(){const _0x42b23a=['OPEN','setOnEvents','hex','user','websocketOption','758xegMJA','length','HeartBeatAck','onEvents','DelCatAck','url','eventCallback','connect','reconnectAttempts','reconnectInterval','yellowBright','magentaBright','3764tModDo','Collected','Delete\x20Cats\x20LVL','GetAirDropCatAck','5003656wzbSOJ','5276444hnLRHC','4250931Enshug','isConnected','2896497WcShUx','credentials','774ACUgli','open','checkMergerOrDeleteCats','Gold','Mate\x20The','send','And','6005WDhuHX','Connected\x20to\x20game\x20server','redBright','50AYlJAf','data','goldTime','runtimeGatherGoldReq','cats','attemptReconnect','transId','32izxQdm','error','Got\x20Airdrop\x20Cat\x20LVL','message','close','whiteBright','gold','airdropIndex','logCallback','5395489haZZKN','handleMessage','setOnLogs','readyState','defineProperty','MergeCatAck','maxReconnectAttempts','Reconnecting...','runtimeGetAirDropCatReq','from','greenBright','filter'];a17_0x1535=function(){return _0x42b23a;};return a17_0x1535();}import a17_0x3bf361 from'chalk';export class WebSocketClient{constructor(_0x55c51e){const _0x279420=a17_0x1085;Object[_0x279420(0xae)](this,_0x279420(0xc0),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object['defineProperty'](this,'credentials',{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x279420(0xae)](this,_0x279420(0xc4),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x279420(0xae)](this,'maxReconnectAttempts',{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x279420(0xae)](this,_0x279420(0xc3),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x279420(0xae)](this,_0x279420(0xba),{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x279420(0xae)](this,_0x279420(0xe1),{'enumerable':!![],'configurable':!![],'writable':!![],'value':0x1}),Object[_0x279420(0xae)](this,'ws',{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x279420(0xae)](this,'logCallback',{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x279420(0xae)](this,'eventCallback',{'enumerable':!![],'configurable':!![],'writable':!![],'value':void 0x0}),Object[_0x279420(0xae)](this,_0x279420(0xce),{'enumerable':!![],'configurable':!![],'writable':!![],'value':![]}),Object[_0x279420(0xae)](this,_0x279420(0xb9),{'enumerable':!![],'configurable':!![],'writable':!![],'value':null}),Object[_0x279420(0xae)](this,_0x279420(0xc2),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0xb12c6a=_0x279420;this['ws']=new a17_0x19e151(this['url'],this[_0xb12c6a(0xba)]),this['ws']['on'](_0xb12c6a(0xd2),()=>{const _0x1018b4=_0xb12c6a,_0x3f8dbb=Buffer[_0x1018b4(0xb3)](this[_0x1018b4(0xd0)],_0x1018b4(0xb8));this[_0x1018b4(0xd6)](_0x3f8dbb),this[_0x1018b4(0xc3)]=0x0,this['setOnEvents']({'event':_0x1018b4(0xd2)});}),this['ws']['on'](_0xb12c6a(0xe5),_0x1ab76b=>{this['handleMessage'](_0x1ab76b);}),this['ws']['on']('close',()=>{const _0x589acc=_0xb12c6a;this['attemptReconnect'](),this[_0x589acc(0xce)]=![],this[_0x589acc(0xb7)]({'event':'close'});}),this['ws']['on'](_0xb12c6a(0xe3),_0x391aa5=>{const _0x269c3d=_0xb12c6a;this[_0x269c3d(0xac)](''+a17_0x3bf361[_0x269c3d(0xda)]('WebSocket\x20error:\x20'+_0x391aa5)),this['isConnected']=![],this[_0x269c3d(0xb7)]({'event':_0x269c3d(0xe3)});});}}),Object['defineProperty'](this,_0x279420(0xac),{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x5f12b0=>{const _0x2439ae=_0x279420;this[_0x2439ae(0xa9)]&&this['logCallback'](_0x5f12b0);}}),Object[_0x279420(0xae)](this,_0x279420(0xb7),{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0xd34082=>{const _0x3ba63f=_0x279420;this[_0x3ba63f(0xc1)]&&this[_0x3ba63f(0xc1)](_0xd34082);}}),Object[_0x279420(0xae)](this,_0x279420(0xab),{'enumerable':!![],'configurable':!![],'writable':!![],'value':async _0x2853c8=>{const _0x1bba2f=_0x279420;let _0x26c823;while(!![]){try{_0x26c823=await decodeMessage(_0x2853c8['toString'](_0x1bba2f(0xb8)));break;}catch(_0x5cc050){}}const _0x54e70f=JSON['parse'](_0x26c823);switch(_0x54e70f['protoName']){case'EnterGameAck':this[_0x1bba2f(0xb9)]=_0x54e70f['data']['userInfo'],this['runtimeHeartBeatReq'](),this[_0x1bba2f(0xde)](),this['runtimeGetAirDropCatReq'](),this[_0x1bba2f(0xce)]=!![],this['checkMergerOrDeleteCats'](),this[_0x1bba2f(0xac)](''+a17_0x3bf361['greenBright'](_0x1bba2f(0xd9))),this['setOnEvents']({'event':_0x1bba2f(0xc2)});break;case'GatherGoldAck':if(this['user']){const _0x3f49b3=formatNumber(parseInt(_0x54e70f['data'][_0x1bba2f(0xe8)])-parseInt(this[_0x1bba2f(0xb9)][_0x1bba2f(0xe8)]));this[_0x1bba2f(0xb9)][_0x1bba2f(0xe8)]=_0x54e70f[_0x1bba2f(0xdc)]['gold'],this[_0x1bba2f(0xb9)][_0x1bba2f(0xdd)]=_0x54e70f[_0x1bba2f(0xdc)][_0x1bba2f(0xdd)],this['setOnLogs'](a17_0x3bf361[_0x1bba2f(0xb4)](_0x1bba2f(0xc8))+'\x20'+a17_0x3bf361[_0x1bba2f(0xe7)](_0x3f49b3)+'\x20'+a17_0x3bf361[_0x1bba2f(0xb4)](_0x1bba2f(0xd4))),this[_0x1bba2f(0xb7)]({'event':_0x1bba2f(0xb9)});}break;case _0x1bba2f(0xca):this['user']&&(_0x54e70f['data'][_0x1bba2f(0xa8)]!==-0x1&&(this[_0x1bba2f(0xb9)][_0x1bba2f(0xdf)]=_0x54e70f['data'][_0x1bba2f(0xdf)],this[_0x1bba2f(0xb7)]({'event':_0x1bba2f(0xb9)}),this[_0x1bba2f(0xd3)](),_0x54e70f[_0x1bba2f(0xdc)][_0x1bba2f(0xa8)]!==undefined&&this[_0x1bba2f(0xac)](a17_0x3bf361[_0x1bba2f(0xc6)](_0x1bba2f(0xe4))+'\x20'+a17_0x3bf361[_0x1bba2f(0xe7)](_0x54e70f[_0x1bba2f(0xdc)]['cats'][_0x54e70f[_0x1bba2f(0xdc)]['airdropIndex']]))));break;case _0x1bba2f(0xaf):this[_0x1bba2f(0xb9)]&&(this[_0x1bba2f(0xb9)]['cats']=_0x54e70f[_0x1bba2f(0xdc)][_0x1bba2f(0xdf)],this[_0x1bba2f(0xd3)](),this[_0x1bba2f(0xb7)]({'event':'user'}));break;case _0x1bba2f(0xbf):this[_0x1bba2f(0xb9)]&&(this[_0x1bba2f(0xb9)]['cats']=_0x54e70f[_0x1bba2f(0xdc)]['cats'],this[_0x1bba2f(0xb7)]({'event':_0x1bba2f(0xb9)}));break;case _0x1bba2f(0xbd):break;default:}}}),Object[_0x279420(0xae)](this,_0x279420(0xe0),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0xf11bd6=_0x279420;this['reconnectAttempts']<this[_0xf11bd6(0xb0)]?setTimeout(()=>{const _0x17101a=_0xf11bd6;this[_0x17101a(0xac)](a17_0x3bf361[_0x17101a(0xc5)](_0x17101a(0xb1))+'\x20'+a17_0x3bf361['blackBright']('('+(this[_0x17101a(0xc3)]+0x1)+')')),this[_0x17101a(0xc3)]++,this['connect']();},this[_0xf11bd6(0xc4)]):this[_0xf11bd6(0xac)](''+a17_0x3bf361[_0xf11bd6(0xda)]('Max\x20reconnect\x20attempts\x20reached'));}}),Object[_0x279420(0xae)](this,'runtimeHeartBeatReq',{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x5ae2ec=async()=>{const _0x471a8d=a17_0x1085;if(this[_0x471a8d(0xb9)]&&this['isConnected'])try{this[_0x471a8d(0xe1)]++;const _0xca67e9=await createHeartBeatReq(this['transId']),_0x307fee=Buffer[_0x471a8d(0xb3)](_0xca67e9,_0x471a8d(0xb8));this[_0x471a8d(0xd6)](_0x307fee);}catch(_0xa19e6e){}};setInterval(_0x5ae2ec,0x3e8);}}),Object[_0x279420(0xae)](this,_0x279420(0xde),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x3f4ea3=async()=>{const _0x57188e=a17_0x1085;if(this[_0x57188e(0xb9)]&&this['isConnected'])try{this[_0x57188e(0xe1)]++;const _0x2efe48=await createGatherGoldReq(this['transId']),_0x12d0fa=Buffer['from'](_0x2efe48,_0x57188e(0xb8));this[_0x57188e(0xd6)](_0x12d0fa);}catch(_0x26d0f5){}};setInterval(_0x3f4ea3,0x2710);}}),Object['defineProperty'](this,_0x279420(0xb2),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x1dce7f=async()=>{const _0x548f47=a17_0x1085;if(this[_0x548f47(0xb9)]&&this[_0x548f47(0xce)])try{this['transId']++;const _0x33353f=await createGetAirDropCatReq(this[_0x548f47(0xe1)]),_0x49ea51=Buffer[_0x548f47(0xb3)](_0x33353f,'hex');this[_0x548f47(0xd6)](_0x49ea51);}catch(_0x2194c6){}};setInterval(_0x1dce7f,0x61a8);}}),Object[_0x279420(0xae)](this,'checkMergerOrDeleteCats',{'enumerable':!![],'configurable':!![],'writable':!![],'value':async()=>{const _0x4170bb=_0x279420;if(this[_0x4170bb(0xb9)]&&this[_0x4170bb(0xce)]){const _0x4f3da2=getDuplicateLvl(this['user']['cats']);if(_0x4f3da2['length']>0x0&&_0x4f3da2[0x0]!==undefined)try{this[_0x4170bb(0xe1)]++;const _0x5def76=await createMergeCatReq(this[_0x4170bb(0xe1)],_0x4f3da2[0x0]);this[_0x4170bb(0xac)](a17_0x3bf361[_0x4170bb(0xb4)](_0x4170bb(0xd5))+'\x20'+a17_0x3bf361[_0x4170bb(0xe7)](getOrdinalSuffix(_0x4f3da2[0x0][0x0]+0x1))+'\x20'+a17_0x3bf361[_0x4170bb(0xb4)](_0x4170bb(0xd7))+'\x20'+a17_0x3bf361['whiteBright'](getOrdinalSuffix(_0x4f3da2[0x0][0x1]+0x1))+'\x20'+a17_0x3bf361['greenBright']('Cats'));const _0x4c2274=Buffer[_0x4170bb(0xb3)](_0x5def76,'hex');this[_0x4170bb(0xd6)](_0x4c2274);}catch(_0x142d07){}else{if(this['user']['cats'][_0x4170bb(0xb5)](_0x50b8ca=>_0x50b8ca===0x0)[_0x4170bb(0xbc)]<0x2){const _0x3e3f3d=getSmallestCatsLvl(this[_0x4170bb(0xb9)][_0x4170bb(0xdf)]);try{if(this[_0x4170bb(0xb9)][_0x4170bb(0xdf)][_0x3e3f3d]!==0x0){this['transId']++;const _0x23408b=await createDelCatReq(this['transId'],_0x3e3f3d);this['setOnLogs'](a17_0x3bf361[_0x4170bb(0xda)](_0x4170bb(0xc9))+'\x20'+a17_0x3bf361[_0x4170bb(0xe7)](this[_0x4170bb(0xb9)][_0x4170bb(0xdf)][_0x3e3f3d]));const _0x26b59f=Buffer[_0x4170bb(0xb3)](_0x23408b,'hex');this[_0x4170bb(0xd6)](_0x26b59f);}}catch(_0x1eb8a2){}}}}}}),Object['defineProperty'](this,'onLogs',{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x190b7d=>{const _0x51eaa4=_0x279420;this[_0x51eaa4(0xa9)]=_0x190b7d;}}),Object[_0x279420(0xae)](this,_0x279420(0xbe),{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x373b06=>{const _0x5a53fd=_0x279420;this[_0x5a53fd(0xc1)]=_0x373b06;}}),Object[_0x279420(0xae)](this,'send',{'enumerable':!![],'configurable':!![],'writable':!![],'value':_0x4083ed=>{const _0x483fc7=_0x279420;this['ws']&&this['ws'][_0x483fc7(0xad)]===a17_0x19e151[_0x483fc7(0xb6)]&&this['ws']['send'](_0x4083ed);}}),Object['defineProperty'](this,_0x279420(0xe6),{'enumerable':!![],'configurable':!![],'writable':!![],'value':()=>{const _0x5c9ffe=_0x279420;this['ws']&&this['ws'][_0x5c9ffe(0xe6)]();}}),this[_0x279420(0xc0)]=_0x55c51e[_0x279420(0xc0)],this[_0x279420(0xd0)]=_0x55c51e['credentials'],this[_0x279420(0xc4)]=_0x55c51e['reconnectInterval']||0x1388,this[_0x279420(0xb0)]=_0x55c51e[_0x279420(0xb0)]||0xa,this[_0x279420(0xba)]=_0x55c51e[_0x279420(0xba)]||{},this[_0x279420(0xc3)]=0x0,this['ws']=null,this[_0x279420(0xc2)]();}}